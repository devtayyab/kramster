<div class="row" ng-if="!loading">
    <div class="col-xs-12">
        <div class="progress">
            <div class="progress-bar"
                 ng-repeat="i in questionsCtrl.history track by $index"
                 ng-class="'progress-bar-' + questionsCtrl.progress.type($index)"
                 aria-valuenow="{{questionsCtrl.progress.value()}}"
                 aria-valuemin="0"
                 aria-valuemax="100"
                 ng-style="{width: (questionsCtrl.progress.value() < 100 ? questionsCtrl.progress.value() : 100) + '%'}"
                 aria-valuetext="{{$index + 1 | number:0}}"
                 role="progressbar"
                 ng-transclude>
            </div>
        </div>
    </div>
</div>

<div class="row" ng-if="questionsCtrl.questions && !loading">
    <div class="col-xs-12">
        <div ng-if="currentQuestion()">
            <h3 ng-bind-html="currentQuestion().question"></h3>
        </div>
    </div>
</div>

<div class="row top-buffer" ng-if="questionsCtrl.questions && !loading">
    <div class="col-xs-12">
        <div class="btn-group">
            <a role="button" type="button"
                class="btn {{questionsCtrl.buttonClass(option)}}"
                ng-repeat="option in currentQuestion().options"
                ng-click="questionsCtrl.answer(option)"
                ng-bind-html="option">
            </a>
        </div>
    </div>
</div>

<!-- Show result when there are no more questions left -->
<result ng-if="finished() && !loading"></result>
